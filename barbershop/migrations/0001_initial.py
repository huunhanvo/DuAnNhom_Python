# Generated by Django 5.2.6 on 2025-10-01 15:07

import django.db.models.deletion
import django.utils.timezone
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='CaiDatHeThong',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('khoa', models.CharField(max_length=50, unique=True)),
                ('gia_tri', models.TextField()),
                ('mo_ta', models.TextField(blank=True, null=True)),
                ('ngay_cap_nhat', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Cài đặt hệ thống',
                'verbose_name_plural': 'Cài đặt hệ thống',
                'db_table': 'cai_dat_he_thong',
            },
        ),
        migrations.CreateModel(
            name='DanhMucDichVu',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ten_danh_muc', models.CharField(max_length=100)),
                ('mo_ta', models.TextField(blank=True, null=True)),
                ('thu_tu', models.IntegerField(default=0)),
                ('trang_thai', models.BooleanField(default=True)),
                ('ngay_tao', models.DateTimeField(default=django.utils.timezone.now)),
                ('ngay_cap_nhat', models.DateTimeField(auto_now=True)),
                ('da_xoa', models.BooleanField(default=False)),
                ('ngay_xoa', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Danh mục dịch vụ',
                'verbose_name_plural': 'Danh mục dịch vụ',
                'db_table': 'danh_muc_dich_vu',
                'ordering': ['thu_tu', 'ten_danh_muc'],
            },
        ),
        migrations.CreateModel(
            name='DatLich',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ma_dat_lich', models.CharField(max_length=20, unique=True)),
                ('ten_khach_hang', models.CharField(blank=True, max_length=100, null=True)),
                ('so_dien_thoai_khach', models.CharField(max_length=15)),
                ('email_khach', models.EmailField(blank=True, max_length=100, null=True)),
                ('ngay_hen', models.DateField()),
                ('gio_hen', models.TimeField()),
                ('loai_dat_lich', models.CharField(choices=[('online', 'Online'), ('walk_in', 'Walk-in')], default='online', max_length=20)),
                ('tong_tien', models.DecimalField(decimal_places=2, max_digits=10)),
                ('tien_giam_gia', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('thanh_tien', models.DecimalField(decimal_places=2, max_digits=10)),
                ('trang_thai', models.CharField(choices=[('cho_xac_nhan', 'Chờ xác nhận'), ('da_xac_nhan', 'Đã xác nhận'), ('da_checkin', 'Đã check-in'), ('hoan_thanh', 'Hoàn thành'), ('da_huy', 'Đã hủy'), ('khong_den', 'Không đến')], default='da_xac_nhan', max_length=20)),
                ('ghi_chu', models.TextField(blank=True, null=True)),
                ('ly_do_huy', models.TextField(blank=True, null=True)),
                ('ngay_check_in', models.DateTimeField(blank=True, null=True)),
                ('ngay_hoan_thanh', models.DateTimeField(blank=True, null=True)),
                ('ngay_huy', models.DateTimeField(blank=True, null=True)),
                ('ngay_tao', models.DateTimeField(default=django.utils.timezone.now)),
                ('ngay_cap_nhat', models.DateTimeField(auto_now=True)),
                ('da_xoa', models.BooleanField(default=False)),
                ('ngay_xoa', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Đặt lịch',
                'verbose_name_plural': 'Đặt lịch',
                'db_table': 'dat_lich',
                'ordering': ['-ngay_hen', '-gio_hen'],
            },
        ),
        migrations.CreateModel(
            name='NguoiDung',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ho_ten', models.CharField(max_length=100)),
                ('so_dien_thoai', models.CharField(max_length=15, unique=True)),
                ('email', models.EmailField(blank=True, max_length=100, null=True, unique=True)),
                ('mat_khau_hash', models.CharField(max_length=255)),
                ('vai_tro', models.CharField(choices=[('khach_hang', 'Khách hàng'), ('nhan_vien', 'Nhân viên'), ('quan_ly', 'Quản lý')], max_length=20)),
                ('ngay_sinh', models.DateField(blank=True, null=True)),
                ('gioi_tinh', models.CharField(blank=True, choices=[('nam', 'Nam'), ('nu', 'Nữ'), ('khac', 'Khác')], max_length=10, null=True)),
                ('dia_chi', models.TextField(blank=True, null=True)),
                ('anh_dai_dien', models.CharField(blank=True, max_length=255, null=True)),
                ('diem_tich_luy', models.IntegerField(default=0)),
                ('trang_thai', models.BooleanField(default=True)),
                ('ngay_tao', models.DateTimeField(default=django.utils.timezone.now)),
                ('ngay_cap_nhat', models.DateTimeField(auto_now=True)),
                ('da_xoa', models.BooleanField(default=False)),
                ('ngay_xoa', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Người dùng',
                'verbose_name_plural': 'Người dùng',
                'db_table': 'nguoi_dung',
            },
        ),
        migrations.CreateModel(
            name='Voucher',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ma_voucher', models.CharField(max_length=50, unique=True)),
                ('ten_voucher', models.CharField(max_length=100)),
                ('mo_ta', models.TextField(blank=True, null=True)),
                ('loai_giam', models.CharField(choices=[('phan_tram', 'Phần trăm'), ('tien_mat', 'Tiền mặt')], max_length=20)),
                ('gia_tri_giam', models.DecimalField(decimal_places=2, max_digits=10)),
                ('gia_tri_don_toi_thieu', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('giam_toi_da', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('ngay_bat_dau', models.DateField()),
                ('ngay_ket_thuc', models.DateField()),
                ('so_luong_tong', models.IntegerField(blank=True, null=True)),
                ('so_luong_da_dung', models.IntegerField(default=0)),
                ('gioi_han_moi_khach', models.IntegerField(default=1)),
                ('ap_dung_cho', models.CharField(choices=[('khach_moi', 'Khách mới'), ('khach_cu', 'Khách cũ'), ('tat_ca', 'Tất cả')], default='tat_ca', max_length=20)),
                ('hien_thi_cong_khai', models.BooleanField(default=True)),
                ('trang_thai', models.BooleanField(default=True)),
                ('ngay_tao', models.DateTimeField(default=django.utils.timezone.now)),
                ('ngay_cap_nhat', models.DateTimeField(auto_now=True)),
                ('da_xoa', models.BooleanField(default=False)),
                ('ngay_xoa', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Voucher',
                'verbose_name_plural': 'Voucher',
                'db_table': 'voucher',
                'ordering': ['-ngay_tao'],
            },
        ),
        migrations.CreateModel(
            name='DichVu',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ten_dich_vu', models.CharField(max_length=100)),
                ('mo_ta_ngan', models.TextField(blank=True, null=True)),
                ('mo_ta_chi_tiet', models.TextField(blank=True, null=True)),
                ('gia', models.DecimalField(decimal_places=2, max_digits=10)),
                ('thoi_gian_thuc_hien', models.IntegerField(help_text='Thời gian tính bằng phút')),
                ('anh_minh_hoa', models.CharField(blank=True, max_length=255, null=True)),
                ('thu_tu', models.IntegerField(default=0)),
                ('trang_thai', models.BooleanField(default=True)),
                ('ngay_tao', models.DateTimeField(default=django.utils.timezone.now)),
                ('ngay_cap_nhat', models.DateTimeField(auto_now=True)),
                ('da_xoa', models.BooleanField(default=False)),
                ('ngay_xoa', models.DateTimeField(blank=True, null=True)),
                ('danh_muc', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='dich_vu', to='barbershop.danhmucdichvu')),
            ],
            options={
                'verbose_name': 'Dịch vụ',
                'verbose_name_plural': 'Dịch vụ',
                'db_table': 'dich_vu',
                'ordering': ['thu_tu', 'ten_dich_vu'],
            },
        ),
        migrations.CreateModel(
            name='DichVuDatLich',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ten_dich_vu', models.CharField(max_length=100)),
                ('gia', models.DecimalField(decimal_places=2, max_digits=10)),
                ('so_luong', models.IntegerField(default=1)),
                ('thanh_tien', models.DecimalField(decimal_places=2, max_digits=10)),
                ('ngay_tao', models.DateTimeField(default=django.utils.timezone.now)),
                ('dat_lich', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='dich_vu_dat_lich', to='barbershop.datlich')),
                ('dich_vu', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='barbershop.dichvu')),
            ],
            options={
                'verbose_name': 'Dịch vụ đặt lịch',
                'verbose_name_plural': 'Dịch vụ đặt lịch',
                'db_table': 'dich_vu_dat_lich',
            },
        ),
        migrations.CreateModel(
            name='HoaDon',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ma_hoa_don', models.CharField(max_length=20, unique=True)),
                ('ten_khach_hang', models.CharField(max_length=100)),
                ('so_dien_thoai_khach', models.CharField(max_length=15)),
                ('tam_tinh', models.DecimalField(decimal_places=2, max_digits=10)),
                ('tien_giam_gia', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('thanh_tien', models.DecimalField(decimal_places=2, max_digits=10)),
                ('phuong_thuc_thanh_toan', models.CharField(choices=[('tien_mat', 'Tiền mặt'), ('chuyen_khoan', 'Chuyển khoản'), ('vi_dien_tu', 'Ví điện tử'), ('the', 'Thẻ')], max_length=30)),
                ('tien_khach_dua', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('tien_thua', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('ngay_thanh_toan', models.DateTimeField(default=django.utils.timezone.now)),
                ('ghi_chu', models.TextField(blank=True, null=True)),
                ('ngay_tao', models.DateTimeField(default=django.utils.timezone.now)),
                ('da_xoa', models.BooleanField(default=False)),
                ('ngay_xoa', models.DateTimeField(blank=True, null=True)),
                ('dat_lich', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='hoa_don', to='barbershop.datlich')),
                ('khach_hang', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='hoa_don', to='barbershop.nguoidung')),
                ('nguoi_tao', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='hoa_don_tao', to='barbershop.nguoidung')),
                ('nhan_vien', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='hoa_don_nhan_vien', to='barbershop.nguoidung')),
            ],
            options={
                'verbose_name': 'Hóa đơn',
                'verbose_name_plural': 'Hóa đơn',
                'db_table': 'hoa_don',
                'ordering': ['-ngay_thanh_toan'],
            },
        ),
        migrations.CreateModel(
            name='ChiTietHoaDon',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ten_dich_vu', models.CharField(max_length=100)),
                ('gia', models.DecimalField(decimal_places=2, max_digits=10)),
                ('so_luong', models.IntegerField(default=1)),
                ('thanh_tien', models.DecimalField(decimal_places=2, max_digits=10)),
                ('ngay_tao', models.DateTimeField(default=django.utils.timezone.now)),
                ('dich_vu', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to='barbershop.dichvu')),
                ('hoa_don', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='chi_tiet', to='barbershop.hoadon')),
            ],
            options={
                'verbose_name': 'Chi tiết hóa đơn',
                'verbose_name_plural': 'Chi tiết hóa đơn',
                'db_table': 'chi_tiet_hoa_don',
            },
        ),
        migrations.AddField(
            model_name='datlich',
            name='khach_hang',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='dat_lich', to='barbershop.nguoidung'),
        ),
        migrations.AddField(
            model_name='datlich',
            name='nhan_vien',
            field=models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='dat_lich_nhan_vien', to='barbershop.nguoidung'),
        ),
        migrations.CreateModel(
            name='ThongTinNhanVien',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('mo_ta', models.TextField(blank=True, null=True)),
                ('chuyen_mon', models.TextField(blank=True, null=True)),
                ('kinh_nghiem_nam', models.IntegerField(blank=True, null=True)),
                ('chung_chi', models.TextField(blank=True, null=True)),
                ('danh_gia_trung_binh', models.DecimalField(decimal_places=1, default=0.0, max_digits=3)),
                ('tong_luot_phuc_vu', models.IntegerField(default=0)),
                ('ngay_tao', models.DateTimeField(default=django.utils.timezone.now)),
                ('ngay_cap_nhat', models.DateTimeField(auto_now=True)),
                ('da_xoa', models.BooleanField(default=False)),
                ('ngay_xoa', models.DateTimeField(blank=True, null=True)),
                ('nguoi_dung', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='thong_tin_nhan_vien', to='barbershop.nguoidung')),
            ],
            options={
                'verbose_name': 'Thông tin nhân viên',
                'verbose_name_plural': 'Thông tin nhân viên',
                'db_table': 'thong_tin_nhan_vien',
            },
        ),
        migrations.CreateModel(
            name='YeuCauNghiPhep',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ngay_bat_dau', models.DateField()),
                ('ngay_ket_thuc', models.DateField()),
                ('ly_do', models.TextField(blank=True, null=True)),
                ('trang_thai', models.CharField(choices=[('cho_duyet', 'Chờ duyệt'), ('da_duyet', 'Đã duyệt'), ('tu_choi', 'Từ chối')], default='cho_duyet', max_length=20)),
                ('ghi_chu_duyet', models.TextField(blank=True, null=True)),
                ('ngay_duyet', models.DateTimeField(blank=True, null=True)),
                ('ngay_tao', models.DateTimeField(default=django.utils.timezone.now)),
                ('da_xoa', models.BooleanField(default=False)),
                ('ngay_xoa', models.DateTimeField(blank=True, null=True)),
                ('nguoi_duyet', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='yeu_cau_duyet', to='barbershop.nguoidung')),
                ('nhan_vien', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='yeu_cau_nghi_phep', to='barbershop.nguoidung')),
            ],
            options={
                'verbose_name': 'Yêu cầu nghỉ phép',
                'verbose_name_plural': 'Yêu cầu nghỉ phép',
                'db_table': 'yeu_cau_nghi_phep',
                'ordering': ['-ngay_tao'],
            },
        ),
        migrations.CreateModel(
            name='LichLamViec',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ngay_lam', models.DateField()),
                ('ca_lam', models.CharField(choices=[('sang', 'Sáng'), ('chieu', 'Chiều'), ('toi', 'Tối')], max_length=20)),
                ('gio_bat_dau', models.TimeField()),
                ('gio_ket_thuc', models.TimeField()),
                ('trang_thai', models.CharField(choices=[('cho_duyet', 'Chờ duyệt'), ('da_duyet', 'Đã duyệt'), ('tu_choi', 'Từ chối')], default='da_duyet', max_length=20)),
                ('ghi_chu', models.TextField(blank=True, null=True)),
                ('ngay_tao', models.DateTimeField(default=django.utils.timezone.now)),
                ('ngay_cap_nhat', models.DateTimeField(auto_now=True)),
                ('da_xoa', models.BooleanField(default=False)),
                ('ngay_xoa', models.DateTimeField(blank=True, null=True)),
                ('nhan_vien', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lich_lam_viec', to='barbershop.nguoidung')),
            ],
            options={
                'verbose_name': 'Lịch làm việc',
                'verbose_name_plural': 'Lịch làm việc',
                'db_table': 'lich_lam_viec',
                'ordering': ['ngay_lam', 'gio_bat_dau'],
                'unique_together': {('nhan_vien', 'ngay_lam', 'ca_lam')},
            },
        ),
    ]
